syntax = "proto3";

package model.model.v1alpha;

// Google api
import "google/api/field_behavior.proto";
import "google/protobuf/struct.proto";
import "../../../model/model/v1alpha/common.proto";

// VisualQuestionAnsweringInput represents the input of a visual
// question-answering task.
message VisualQuestionAnsweringInput {
  // Prompt text.
  string prompt = 1 [(google.api.field_behavior) = REQUIRED];
  // Prompt images.
  repeated PromptImage prompt_images = 2 [(google.api.field_behavior) = OPTIONAL];
  // Chat history.
  repeated Message chat_history = 3 [(google.api.field_behavior) = OPTIONAL];
  // System message, which sets the behaviour of the assistant.
  optional string system_message = 4 [(google.api.field_behavior) = OPTIONAL];
  // Maximum number of generation tokens.
  optional int32 max_new_tokens = 5 [(google.api.field_behavior) = OPTIONAL];
  // Sampling temperature.
  optional float temperature = 6 [(google.api.field_behavior) = OPTIONAL];
  // Sampling Top K, number of tokens at the top from which the model will
  // sample.
  optional int32 top_k = 7 [(google.api.field_behavior) = OPTIONAL];
  // Seed.
  optional int32 seed = 8 [(google.api.field_behavior) = OPTIONAL];
  // Extra parameters.
  google.protobuf.Struct extra_params = 9 [(google.api.field_behavior) = OPTIONAL];
}

// VisualQuestionAnsweringOutput contains the result of a visual
// question-answering task.
message VisualQuestionAnsweringOutput {
  // The text generated by the model.
  string text = 1 [(google.api.field_behavior) = OUTPUT_ONLY];
}
